<% content_for(:title, "#{@profile.name}さんのプロフィール" ) %>

<%= render partial: "shared/messages" %>

<div class="min-h-screen bg-gradient-to-br from-purple-200 via-pink-200 to-purple-300">

  <% if notice %>
  <div class="p-4 mb-4 text-sm text-blue-800 rounded-lg bg-blue-50" role="alert">
    <%= notice %>
  </div>
  <% end %>

  <!-- 装飾的な背景要素 -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-10 left-10 text-pink-300 opacity-60">
      <span class="text-2xl">⭐</span>
    </div>
    <div class="absolute top-20 right-20 text-purple-300 opacity-60">
      <span class="text-xl">💖</span>
    </div>
    <div class="absolute top-40 left-1/4 text-pink-300 opacity-40">
      <span class="text-base">✨</span>
    </div>
    <div class="absolute top-60 right-1/3 text-purple-300 opacity-50">
      <span class="text-lg">🌙</span>
    </div>
    <div class="absolute bottom-40 left-20 text-pink-300 opacity-60">
      <span class="text-xl">☀️</span>
    </div>
    <div class="absolute bottom-20 right-10 text-purple-300 opacity-40">
      <span class="text-xl">⭐</span>
    </div>
  </div>

    <div class="max-w-2xl mx-auto relative z-10">
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4">
        ✨ <%= @profile.name %>さんのプロフィール ✨
      </h1>
      <div class="flex justify-center gap-2 text-2xl">
        <span class="text-pink-400">💖</span>
        <span class="text-purple-400">✨</span>
        <span class="text-pink-400">💖</span>
      </div>
    </div>

    <div class="backdrop-blur-sm bg-white/80 border-0 shadow-xl rounded-3xl">
      <div class="space-y-8 p-8">
        <!-- 名前 -->
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">💖</span>
            <span>わたしの<%= t('activerecord.attributes.profile.name') %>は<%= @profile.name %>です！</span>
          </div>
        </div>

        <!-- ニックネーム -->
        <% if @profile.nickname.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">✨</span>
            <span><%= t('activerecord.attributes.profile.nickname') %>、<%= @profile.nickname %>って呼ばれています。</span>
          </div>
        </div>
        <% end %>

        <!-- 誕生日 -->
        <% if @profile.birth_month.present? || @profile.birth_day.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">⭐</span>
            <span><%= t('activerecord.attributes.profile.birth_day') %>は<%= @profile.birth_month %>月<%= @profile.birth_day %>日だよ！</span>

          <% if @profile.constellation.present? %>
            <% if @profile.birth_month.blank? && @profile.birth_day.blank? %>
              <div class="space-y-3">
                <div class="flex items-center gap-2 text-purple-700 font-medium">
            <% end %>
            <!-- 星座 -->
            <span><%= t('activerecord.attributes.profile.constellation') %>は<%= @profile.constellation %>💓</span>
          <% end %>
          </div>
        </div>
        <% end %>

        <!-- 出身地 -->
        <% if @profile.birthplace.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">☀️</span>
            <span><%= t('activerecord.attributes.profile.birthplace') %>は<%= @profile.birthplace %>！</span>
          </div>
        </div>
        <% end %>

        <!-- 性格 -->
        <% if @profile.personality_main.present? || @profile.personality_sub.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">💖</span>
            <span><%= t('activerecord.attributes.profile.personality_main') %>は<%= @profile.personality_main %><% if @profile.personality_main.present? && @profile.personality_sub.present? %>で<% end %><%= @profile.personality_sub %></span>
            <span>……と、自分では思っているよ😁</span>
          </div>
        </div>
        <% end %>

        <!-- 人からの評価 -->
        <% if @profile.evaluation_others.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">✨</span>
            <span><%= t('activerecord.attributes.profile.evaluation_others') %><%= @profile.evaluation_others %>って言われることがあるよ。</span>
          </div>
        </div>
        <% end %>

        <!-- 趣味・マイブーム -->
        <% if @profile.hobby_or_interest.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">⭐</span>
            <span><%= t('activerecord.attributes.profile.hobby_or_interest') %>は<%= @profile.hobby_or_interest %>✨</span>
          </div>
        </div>
        <% end %>

        <% # Todo：入力しない項目は非表示にするかどうか？する場合そのように実装する %>
        <!-- 好きなもの -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="space-y-3">
              <div class="text-purple-700 font-medium flex items-center gap-2">
                <span><%= t('activerecord.attributes.profile.favorite_food') %></span> 🍙
              </div>
              <%= @profile.favorite_food %>
            </div>
            <div class="space-y-3">
              <div class="text-purple-700 font-medium flex items-center gap-2">
                <span><%= t('activerecord.attributes.profile.favorite_drink') %></span> ☕
              </div>
              <%= @profile.favorite_drink %>
            </div>
            <div class="space-y-3">
              <div class="text-purple-700 font-medium flex items-center gap-2">
                <span><%= t('activerecord.attributes.profile.favorite_artist') %></span> 🖼
              </div>
              <%= @profile.favorite_artist %>
            </div>
            <div class="space-y-3">
              <div class="text-purple-700 font-medium flex items-center gap-2">
                <span><%= t('activerecord.attributes.profile.favorite_book') %></span> 📚
              </div>
              <%= @profile.favorite_book %>
            </div>
            <div class="space-y-3">
              <div class="text-purple-700 font-medium flex items-center gap-2">
                <span><%= t('activerecord.attributes.profile.favorite_movie') %></span> 🎬
              </div>
              <%= @profile.favorite_movie %>
            </div>
            <div class="space-y-3">
              <div class="text-purple-700 font-medium flex items-center gap-2">
                <span><%= t('activerecord.attributes.profile.favorite_place') %></span> 🌳
              </div>
              <%= @profile.favorite_place %>
            </div>
          </div>

        <!-- 特技 -->
        <% if @profile.special_skill.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">💖</span>
            <span>わたしの<%= t('activerecord.attributes.profile.special_skill') %>は<%= @profile.special_skill %>です！</span>
          </div>
        </div>
        <% end %>

        <!-- ほしいもの -->
        <% if @profile.things_i_want.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">✨</span>
            <span>今<%= t('activerecord.attributes.profile.things_i_want') %>は<%= @profile.things_i_want %>。</span>
          </div>
        </div>
        <% end %>

        <!-- 将来の夢 -->
        <% if @profile.future_dream.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">⭐</span>
            <span><%= t('activerecord.attributes.profile.future_dream') %>：<%= @profile.future_dream %></span>
          </div>
        </div>
        <% end %>

        <!-- 座右の銘 -->
        <% if @profile.motto.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">🌙</span>
            <span><%= t('activerecord.attributes.profile.motto') %>は「<%= @profile.motto %>」！</span>
          </div>
        </div>
        <% end %>

        <!-- メッセージ -->
        <% if @profile.free_message.present? %>
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span class="text-pink-500">💖</span>
            <span><%= t('activerecord.attributes.profile.free_message') %></span>
          </div>
        
          <div class="backdrop-blur-sm bg-white-100 border-0 shadow-l rounded-3xl">
            <div class="text-black-700 font-medium p-6 whitespace-pre-wrap break-words leading-relaxed">
              <span><%= @profile.free_message %></span>
            </div>
          </div>
        </div>
        <% end %>
        
        <!-- SNSシェアボタン -->
        <div class="space-y-3">
          <div class="flex items-center gap-2 text-purple-700 font-medium">
            <span>
              <%= social_share_button_tag("#{@profile.name}さんのプロフィールです！みんな見てね⭐" + "\n#Webプロフィール帳", url: profile_url(@profile)) %>
            </span>
          </div>
        </div>

      </div>
    </div>

    <!-- フッター装飾 -->
    <div class="text-center mt-8 text-purple-600 opacity-70">
      <div class="flex justify-center gap-2 text-2xl mb-2">
        <span>⭐</span>
        <span>💖</span>
        <span>✨</span>
        <span>💖</span>
        <span>⭐</span>
      </div>
    </div>
  </div>
</div>