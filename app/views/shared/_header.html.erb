<header class="h-16 bg-purple-300 shadow-md relative">
  <!-- 装飾的な背景要素 -->
  <div class="absolute inset-0">
    <div class="absolute top-2 left-10 text-pink-400 opacity-30 animate-pulse">
      <span class="text-sm">✨</span>
    </div>
    <div class="absolute top-1 right-20 text-pink-400 opacity-40 animate-bounce">
      <span class="text-xs">💖</span>
    </div>
    <div class="absolute bottom-2 left-1/4 text-pink-400 opacity-30 animate-ping">
      <span class="text-xs">⭐</span>
    </div>
    <div class="absolute bottom-1 right-1/3 text-pink-400 opacity-35 animate-pulse" style="animation-delay: 0.5s;">
      <span class="text-sm">🌸</span>
    </div>
  </div>

  <!-- メインコンテナ -->
  <div class="container mx-auto px-4 h-full relative z-10">
    <div class="flex justify-between items-center h-full">
      <!-- ロゴ部分 -->
      <div class="flex items-center gap-2">
        <span class="text-2xl animate-bounce">🌈</span>
        <h1 class="text-xl md:text-2xl font-bold bg-gradient-to-r from-violet-800 to-purple-800 bg-clip-text text-transparent">
          <%= t('header.logo') %>
        </h1>
      </div>

      <!-- ナビゲーションメニュー -->
      <nav class="flex items-center gap-6 md:gap-8" data-turbo="false">
        <%= link_to root_path,
            class: "no-underline text-purple-800 font-medium text-lg hover:text-purple-700 transition-all duration-200 hover:scale-105 flex items-center gap-2" do %>
          <span class="text-sm">🏠</span>
          <span><%= t('header.menu.top') %></span>
        <% end %>

        <% if user_signed_in? %>
          <%= link_to profiles_path,
              class: "no-underline text-purple-800 font-medium text-lg hover:text-purple-700 transition-all duration-200 hover:scale-105 flex items-center gap-2", data: { turbo: false } do %>
            <span class="text-sm">📜</span>
            <span><%= t('header.menu.profile_list') %></span>
          <% end %>

          <!-- ユーザーメニュードロップダウン -->
            <div class="relative group" data-turbo="false">
              <!-- トリガー -->
              <div class="text-purple-800 font-medium text-lg hover:text-purple-700 transition-all duration-200 hover:scale-105 cursor-pointer flex items-center gap-2" data-turbo="false">
                <span class="text-sm">👤</span>
                <span>ユーザーメニュー</span>
                <span class="text-xs">▼</span>
              </div>

              <!-- ドロップダウンメニュー -->
              <div class="absolute right-0 top-full mt-2 w-48 backdrop-blur-md bg-white/90 border border-pink-200 rounded-2xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition duration-200 z-50" data-turbo="false">
                <div class="py-2" data-turbo="false">
                  <%= link_to edit_user_registration_path(current_user.id),
                      class: "no-underline block px-4 py-3 text-purple-800 hover:bg-pink-100/50 hover:text-purple-700 transition duration-200 flex items-center gap-3", data: { turbo: false } do %>
                    <span class="text-sm">⚙️</span>
                    <span>ユーザー情報</span>
                  <% end %>

                  <div class="border-t border-pink-200 my-1"></div>

                  <%= link_to destroy_user_session_path, method: :delete,
                      class: "no-underline block px-4 py-3 text-purple-800 hover:bg-pink-100/50 hover:text-purple-700 transition duration-200 flex items-center gap-3", data: { turbo: false } do %>
                    <span class="text-sm">🚪</span>
                    <span><%= t('header.menu.logout') %></span>
                  <% end %>
                </div>
              </div>
            </div>


        <% else %>
          <%= link_to new_user_session_path,
              class: "no-underline text-purple-800 font-medium text-lg hover:text-purple-700 transition-all duration-200 hover:scale-105 flex items-center gap-2" do %>
            <span class="text-sm">🔑</span>
            <span><%= t('header.menu.login') %></span>
          <% end %>
          
          <%= link_to new_user_registration_path,
              class: "no-underline text-purple-800 font-medium text-lg hover:text-purple-700 transition-all duration-200 hover:scale-105 flex items-center gap-2" do %>
            <span class="text-sm">👤</span>
            <span><%= t('header.menu.sign_up') %></span>
          <% end %>
        <% end %>
      </nav>
    </div>
  </div>

  <!-- 下部の装飾ライン -->
  <div class="h-1 bg-gradient-to-r from-transparent via-pink-400 to-transparent opacity-50"></div>
</header>